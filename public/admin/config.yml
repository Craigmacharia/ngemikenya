backend:
  name: git-gateway
  branch: main
  commit_messages:
    create: "✨ Create post {{slug}}"
    update: "📝 Update post {{slug}}"
    delete: "🗑️ Delete post {{slug}}"
    uploadMedia: "📸 Upload media"
    deleteMedia: "🧹 Delete media"

publish_mode: editorial_workflow

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

site_url: "https://ngemikenya.netlify.app"
display_url: "https://ngemikenya.netlify.app"
logo_url: "https://ngemikenya.netlify.app/images/logo.png"

show_preview_links: true

# 👇 Auto rebuild site after publishing new post
hooks:
  - type: post_publish
    endpoint: "https://api.netlify.com/build_hooks/68f2b2822e8a870081d5e7ff"

collections:
  - name: "posts"
    label: "Blog Posts"
    label_singular: "Post"
    folder: "src/posts"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    preview_path: "posts/{{slug}}"
    summary: "{{title}} — {{year}}/{{month}}/{{day}}"
    sort: "date:desc"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime" }
      - { label: "Featured Image", name: "image", widget: "image", required: false, hint: "Upload a featured image for the post" }
      - { label: "Excerpt", name: "excerpt", widget: "text", required: false, hint: "Optional short description for previews" }
      - { label: "Body", name: "body", widget: "markdown" }
